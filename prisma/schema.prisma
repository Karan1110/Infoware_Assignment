generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = "postgres://unqgsqcj:PwOgL9DnYvPXdz5K_h6Wqddr_C4gGybz@mahmud.db.elephantsql.com/unqgsqcj"
}

model Employee {
  id         Int       @id @default(autoincrement())
  name       String 
  email      String    @unique
  password   String    @unique
  manager_id Int?
  manager    Employee?      @relation("EmployeeToManager", fields: [manager_id], references: [id])

  employee   Employee[]      @relation("EmployeeToManager")

  Notification Notification[] @relation("EmployeeToNotification")

  Ticket Ticket[] @relation("EmployeeToTicket")

  Benefit Benefit[] @relation("EmployeeToBenefits")

  Skills Skills[] @relation("EmployeeToSkill")

  Experience Experience[] @relation("EmployeeToExperience")

  Department Department[] @relation("EmployeeToDepartment")

  Meeting_members Meeting_members[] @relation("EmployeeToMeeting")

   Performance Performance @relation("EmployeeToPerformance",fields: [performance_id],references: [id])
   performance_id Int

  salary Int
  phone Int
  education Education @relation("EmployeeToEducation",fields: [education_id],references: [id])
  education_id Int

  age Int
  isAdmin Boolean
  total_working_days_id Int
  total_working_days Int
  working_days Int
  total_leaves Int
  leaves_taken Int 
  @@index([id])
}

model Education{
  id   Int       @id @default(autoincrement())
  type String
  name String
  employee Employee[] @relation("EmployeeToEducation")
   @@index([id])
}

model Notification{
  id   Int       @id @default(autoincrement())
 message String
 created_at DateTime
 employee_id Int
 employee Employee @relation("EmployeeToNotification",fields: [employee_id],references: [id])
  @@index([id])
}

model Ticket{
  id   Int          @id @default(autoincrement())
  employee Employee @relation("EmployeeToTicket",fields: [employee_id],references: [id])
  employee_id Int
  name   String
  message String
   @@index([id])
 
}
model Skills {
  id    Int      @id @default(autoincrement())
  type  String
  name  String
  level Level?   @relation("SkillToLevel", fields: [level_id], references: [id])
  level_id Int
  employee Employee   @relation("EmployeeToSkill", fields: [employee_id], references: [id])
  employee_id Int
   @@index([id])
}


model Level{
  id   Int       @id @default(autoincrement())
  name String
  skills Skills[] @relation("SkillToLevel")
   @@index([id])
}


model Benefit{
id   Int       @id @default(autoincrement())
name String 
from DateTime
to DateTime
benefit_type benefit_type @relation("benefit_typeToBenefits",fields: [benefit_type_id],references: [id])
benefit_type_id Int
employee Employee @relation("EmployeeToBenefits",fields: [employee_id],references: [id])
employee_id Int
 @@index([id])
}


model benefit_type{
  id   Int       @id @default(autoincrement())
name String 
benefit Benefit[] @relation("benefit_typeToBenefits") 
 @@index([id])
}

model Experience{
  id   Int       @id @default(autoincrement())
  company_name String
  from DateTime
  to DateTime
  employee Employee @relation("EmployeeToExperience",fields: [employee_id],references: [id])
  employee_id Int
   @@index([id])
}

model Meeting{
  id   Int       @id @default(autoincrement())
  name String
  from DateTime
  to DateTime
  link String
  meeting_members Meeting_members[] @relation("MeetingToMeetingMembers")
   @@index([id])
}
 model Meeting_members{
   id   Int       @id @default(autoincrement())
  employee Employee @relation("EmployeeToMeeting",fields: [employee_id],references: [id])
  employee_id Int
  Meeting Meeting @relation("MeetingToMeetingMembers",fields: [Meeting_id],references: [id])
  Meeting_id Int
   @@index([id])
 }


model Department{
   id               Int       @id @default(autoincrement())
  name              String
  position          String
  employee Employee @relation("EmployeeToDepartment",fields: [employee_id],references: [id])
  employee_id       Int
   @@index([id])
}

model Position{
   id   Int       @id @default(autoincrement())
 name String
  @@index([id])
}

model Performance{
   id   Int       @id @default(autoincrement())
  employee Employee[]  @relation("EmployeeToPerformance")
  performance_status performance_status @relation("performance_statusToPerformance",fields: [performance_id],references: [id])
  performance_status_id Int
   @@index([id])
}

model performance_status{
   id   Int       @id @default(autoincrement())
  name String
  performance Performance[] @relation("performance_statusToPerformance")
   @@index([id])
}
